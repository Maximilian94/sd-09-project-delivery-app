{"version":3,"sources":["utills/axiosConfig.js","pages/Login/Login.js","pages/Register/Register.js","components/NavBar.jsx","components/CardProduct.jsx","components/Loading.jsx","pages/Products/Products.jsx","pages/Routes.js","App.js","index.js"],"names":["connectBack","axios","create","baseURL","Login","useState","email","setUser","password","setPassword","isDisabled","trueOrFalse","invalidLogin","setInvalidLogin","prefix","history","useHistory","verifyDisabled","length","test","className","name","value","onChange","target","placeholder","type","onClick","post","then","response","user","console","log","data","localStorage","setItem","JSON","stringify","push","catch","error","disabled","Register","setName","registerUser","a","NavBar","userInfo","parse","getItem","to","CardProduct","props","product","id","price","urlImage","quantity","setQuantity","setProducts","quant","totalProduct","getProducts","currentProducts","width","src","alt","e","Loading","Products","products","fetchDrinks","fetch","json","drinks","useEffect","map","Routes","path","component","from","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ffad2a18.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst connectBack = axios.create({\n  baseURL: 'http://localhost:3001',\n});\n\nexport default connectBack;\n","import React, { useState } from 'react';\nimport './Login.css';\nimport { useHistory } from 'react-router-dom';\n\nimport connectBack from '../../utills/axiosConfig';\n\nfunction Login() {\n  const [email, setUser] = useState('');\n  const [password, setPassword] = useState('');\n  const [isDisabled, trueOrFalse] = useState(true);\n  const [invalidLogin, setInvalidLogin] = useState(false);\n  // const users = []\n\n  const prefix = 'common_login__';\n  const passMin = 5;\n  const history = useHistory();\n\n  const verifyDisabled = () => {\n    const re = /(.+)@(.+){2,}\\.(.+){2,}/;\n    if (password.length >= passMin && re.test(email)) {\n      trueOrFalse(false);\n    } else {\n      trueOrFalse(true);\n    }\n  };\n\n  const saveTokenLocalStorage = (user) => {\n    localStorage.setItem('user', JSON.stringify(user));\n    localStorage.setItem('products', JSON.stringify({}));\n  };\n\n  const userChange = ({ target }) => {\n    setUser(target.value);\n    verifyDisabled();\n  };\n\n  const passwordChange = ({ target }) => {\n    setPassword(target.value);\n    verifyDisabled();\n  };\n\n  const redirectCostummer = () => {\n    history.push('/customer/products');\n  };\n  const redirectRegister = () => {\n    history.push('/register');\n  };\n  const login = () => {\n    // connectBack.post('/login', { hasToken: false, method: 'POST', status: 404 })\n    connectBack.post('/login', { email, password })\n      .then((response) => {\n        console.log('LOGOU', response.data.user);\n        saveTokenLocalStorage(response.data.user);\n        redirectCostummer();\n      })\n      .catch((error) => {\n        console.log(error);\n        setInvalidLogin(true);\n      });\n  };\n\n  return (\n    <div className=\"login-Page\">\n      <input\n        className=\"email-input\"\n        name=\"email\"\n        value={ email }\n        data-testid={ `${prefix}input-email` }\n        onChange={ userChange }\n        placeholder=\"User Email\"\n      />\n      <input\n        className=\"password-input\"\n        name=\"password\"\n        data-testid={ `${prefix}input-password` }\n        value={ password }\n        onChange={ passwordChange }\n        placeholder=\"Password\"\n      />\n      <div className=\"buttons\">\n        <button\n          type=\"button\"\n          className=\"signin-button\"\n          onClick={ login }\n          data-testid={ `${prefix}button-login` }\n          disabled={ isDisabled }\n        >\n          LOGIN\n        </button>\n        <button\n          type=\"button\"\n          className=\"signup-button\"\n          data-testid={ `${prefix}button-register` }\n          onClick={ redirectRegister }\n        >\n          Register\n        </button>\n        {invalidLogin ? (\n          <div data-testid={ `${prefix}element-invalid-email` }>\n            LOGIN INVALIDO\n            {' '}\n          </div>\n        ) : (\n          <div />\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import React, { useState } from 'react';\nimport './Register.css';\nimport { useHistory } from 'react-router-dom';\n\nimport connectBack from '../../utills/axiosConfig';\n\nfunction Register() {\n  const [email, setUser] = useState('');\n  const [name, setName] = useState('');\n  const [password, setPassword] = useState('');\n  const [isDisabled, trueOrFalse] = useState(true);\n  const [invalidLogin, setInvalidLogin] = useState(false);\n  // const users = []\n\n  const prefix = 'common_register__';\n  const passMin = 5;\n  const nameMin = 12;\n  const history = useHistory();\n\n  const saveTokenLocalStorage = (user) => {\n    localStorage.setItem('user', JSON.stringify(user));\n    localStorage.setItem('products', JSON.stringify({}));\n  };\n\n  const verifyDisabled = () => {\n    const re = /(.+)@(.+){2,}\\.(.+){2,}/;\n    if (password.length >= passMin && re.test(email) && name.length >= nameMin) {\n      trueOrFalse(false);\n    } else {\n      trueOrFalse(true);\n    }\n  };\n  const emailChange = ({ target }) => {\n    setUser(target.value);\n    verifyDisabled();\n  };\n\n  const nameChange = ({ target }) => {\n    setName(target.value);\n    verifyDisabled();\n  };\n\n  const passwordChange = ({ target }) => {\n    setPassword(target.value);\n    verifyDisabled();\n  };\n\n  const redirectCostummer = () => {\n    history.push('/customer/products');\n  };\n\n  const registerUser = async () => {\n    connectBack.post('/register', { email, password, name })\n      .then((response) => {\n        console.log(response.data.user);\n        saveTokenLocalStorage(response.data.user);\n        redirectCostummer();\n      })\n      .catch((error) => {\n        console.log(error);\n        setInvalidLogin(true);\n      });\n  };\n\n  return (\n    <div className=\"login-Page\">\n      <input\n        className=\"name-input\"\n        name=\"name\"\n        value={ name }\n        data-testid={ `${prefix}input-name` }\n        onChange={ nameChange }\n        placeholder=\"Nome completo\"\n      />\n      <input\n        className=\"email-input\"\n        name=\"email\"\n        value={ email }\n        data-testid={ `${prefix}input-email` }\n        onChange={ emailChange }\n        placeholder=\"Email do usuário\"\n      />\n      <input\n        className=\"password-input\"\n        name=\"password\"\n        data-testid={ `${prefix}input-password` }\n        value={ password }\n        onChange={ passwordChange }\n        placeholder=\"Password\"\n      />\n      <div className=\"buttons\">\n        <button\n          type=\"button\"\n          className=\"signin-button\"\n          onClick={ registerUser }\n          data-testid={ `${prefix}button-register` }\n          disabled={ isDisabled }\n        >\n          REGISTER\n        </button>\n        {invalidLogin ? (\n          <div data-testid={ `${prefix}element-invalid_register` }>\n            REGISTRO INVALIDO\n            {' '}\n          </div>\n        ) : (\n          <div />\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Register;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst NavBar = () => {\n  const prefix = 'customer_products__element-navbar-';\n  const userInfo = JSON.parse(localStorage.getItem('user'));\n  return (\n    <nav>\n      <ul>\n        <li data-testid={ `${prefix}link-products` }>\n          <Link\n            to=\"/customer/products\"\n          >\n            Produtos\n          </Link>\n        </li>\n        <li data-testid={ `${prefix}link-orders` }>\n          <Link\n            to=\"/customer/orders\"\n          >\n            Meus pedidos\n          </Link>\n        </li>\n        <li data-testid={ `${prefix}user-full-name` }>{userInfo.name}</li>\n        <li data-testid={ `${prefix}link-logout` }>\n          <Link\n            to=\"/login\"\n          >\n            Sair\n          </Link>\n        </li>\n      </ul>\n    </nav>\n  );\n};\n\nexport default NavBar;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nconst CardProduct = (props) => {\n  const { product: { id, name, price, urlImage } } = props;\n  const prefix = 'customer_products__';\n  const [quantity, setQuantity] = useState(0);\n\n  const setProducts = (quant) => {\n    const totalProduct = quant * price;\n    const getProducts = JSON.parse(localStorage.getItem('products'));\n    const currentProducts = { ...getProducts, name: totalProduct };\n    localStorage\n      .setItem('products', JSON.stringify(currentProducts));\n  };\n\n  const addItem = () => {\n    setQuantity(quantity + 1);\n    setProducts(quantity + 1);\n  };\n\n  const removeItem = () => {\n    if (quantity === 0) {\n      setQuantity(0);\n      setProducts(0);\n    } else {\n      setQuantity(quantity - 1);\n      setProducts(quantity - 1);\n    }\n  };\n  // const brazilianPrice = () => {\n  //   const newPrice = price.toString().replace('.', ',');\n  //   return newPrice;\n  // };\n  return (\n    <div>\n      <p data-testid={ `${prefix}element-card-title-${id}` }>{name}</p>\n      <p data-testid={ `${prefix}element-card-price-${id}` }>{price}</p>\n      <img\n        width=\"100px\"\n        src={ urlImage }\n        alt={ name }\n        data-testid={ `${prefix}img-card-bg-image-${id}` }\n      />\n      <input\n        type=\"numer\"\n        value={ quantity }\n        onChange={ (e) => setQuantity(e.target.value) }\n        data-testid={ `${prefix}input-card-quantity-${id}` }\n      />\n      <button\n        type=\"button\"\n        onClick={ addItem }\n        data-testid={ `${prefix}button-card-add-item-${id}` }\n      >\n        +\n      </button>\n      <button\n        type=\"button\"\n        onClick={ removeItem }\n        data-testid={ `${prefix}button-card-rm-item-${id}` }\n      >\n        -\n      </button>\n    </div>\n  );\n};\n\nCardProduct.propTypes = {\n  id: PropTypes.number,\n  name: PropTypes.string,\n  price: PropTypes.number,\n  urlImage: PropTypes.string,\n}.isrequired;\n\nexport default CardProduct;\n","import React from 'react';\n\nconst Loading = () => (\n  <div>\n    <p>Carregando...</p>\n  </div>\n);\n\nexport default Loading;\n","import React, { useState, useEffect } from 'react';\nimport NavBar from '../../components/NavBar';\nimport CardProduct from '../../components/CardProduct';\nimport Loading from '../../components/Loading';\n// import CartButton from '../../components/CartButton';\n\nconst Products = () => {\n  const [products, setProducts] = useState([]);\n\n  const fetchDrinks = async () => {\n    try {\n      const response = await fetch('http://localhost:3001/products');\n      const drinks = await response.json();\n      console.log(drinks);\n      setProducts(drinks);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchDrinks();\n  }, []);\n\n  return (\n    <div>\n      <NavBar />\n      {products ? products\n        .map((product) => <CardProduct key={ product.id } product={ product } />)\n        : <Loading /> }\n      {/* <CartButton /> */}\n    </div>\n  );\n};\n\nexport default Products;\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\nimport Login from './Login/Login';\nimport Register from './Register/Register';\nimport Products from './Products/Products';\n\nfunction Routes() {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/login\" component={ Login } />\n        <Route path=\"/register\" component={ Register } />\n        <Route path=\"/customer/products\" component={ Products } />\n        <Redirect from=\"/\" to=\"/login\" />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default Routes;\n","import React from 'react';\nimport Routes from './pages/Routes';\n\nconst App = () => <Routes />;\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}